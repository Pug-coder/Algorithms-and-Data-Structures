import numpy as np


def training_data():

    data = {
        '0': np.array([[0, 1, 1, 1, 0],
                       [1, 0, 0, 0, 1],
                       [1, 0, 0, 0, 1],
                       [1, 0, 0, 0, 1],
                       [0, 1, 1, 1, 0]]),

        '1': np.array([[0, 0, 1, 0, 0],
                       [0, 1, 1, 0, 0],
                       [0, 0, 1, 0, 0],
                       [0, 0, 1, 0, 0],
                       [0, 1, 1, 1, 0]]),

        '2': np.array([[0, 1, 1, 1, 0],
                       [1, 0, 0, 0, 1],
                       [0, 0, 1, 0, 0],
                       [0, 1, 0, 0, 0],
                       [1, 1, 1, 1, 1]]),

        '3': np.array([[1, 1, 1, 1, 0],
                       [0, 0, 0, 0, 1],
                       [0, 1, 1, 1, 0],
                       [0, 0, 0, 0, 1],
                       [1, 1, 1, 1, 0]]),

        '4': np.array([[0, 0, 1, 0, 0],
                       [0, 1, 1, 0, 0],
                       [1, 0, 1, 0, 0],
                       [1, 1, 1, 1, 1],
                       [0, 0, 1, 0, 0]]),

        '5': np.array([[1, 1, 1, 1, 1],
                       [1, 0, 0, 0, 0],
                       [1, 1, 1, 1, 0],
                       [0, 0, 0, 0, 1],
                       [1, 1, 1, 1, 0]]),

        '6': np.array([[0, 1, 1, 1, 1],
                       [1, 0, 0, 0, 0],
                       [1, 1, 1, 1, 0],
                       [1, 0, 0, 0, 1],
                       [0, 1, 1, 1, 0]]),

        '7': np.array([[1, 1, 1, 1, 1],
                       [0, 0, 0, 0, 1],
                       [0, 0, 0, 1, 0],
                       [0, 0, 1, 0, 0],
                       [0, 0, 1, 0, 0]]),

        '8': np.array([[0, 1, 1, 1, 0],
                       [1, 0, 0, 0, 1],
                       [0, 1, 1, 1, 0],
                       [1, 0, 0, 0, 1],
                       [0, 1, 1, 1, 0]]),

        '9': np.array([[0, 1, 1, 1, 0],
                       [1, 0, 0, 0, 1],
                       [0, 1, 1, 1, 1],
                       [0, 0, 0, 0, 1],
                       [0, 1, 1, 1, 0]]),

        'А': np.array([[0, 1, 1, 1, 0],
                       [1, 0, 0, 0, 1],
                       [1, 1, 1, 1, 1],
                       [1, 0, 0, 0, 1],
                       [1, 0, 0, 0, 1]]),

        'Б': np.array([[1, 1, 1, 1, 0],
                       [1, 0, 0, 0, 1],
                       [1, 1, 1, 1, 0],
                       [1, 0, 0, 0, 1],
                       [1, 1, 1, 1, 0]]),

        'В': np.array([[1, 1, 1, 1, 0],
                       [1, 0, 0, 0, 1],
                       [1, 1, 1, 1, 0],
                       [1, 0, 0, 0, 1],
                       [1, 1, 1, 1, 0]]),

        'Г': np.array([[1, 1, 1, 1, 1],
                       [1, 0, 0, 0, 0],
                       [1, 0, 0, 0, 0],
                       [1, 0, 0, 0, 0],
                       [1, 0, 0, 0, 0]]),

        'Д': np.array([[0, 0, 1, 0, 0],
                       [0, 1, 0, 1, 0],
                       [1, 1, 1, 1, 1],
                       [0, 1, 0, 1, 0],
                       [0, 0, 1, 0, 0]]),

        'Е': np.array([[1, 1, 1, 1, 1],
                       [1, 0, 0, 0, 0],
                       [1, 1, 1, 1, 1],
                       [1, 0, 0, 0, 0],
                       [1, 1, 1, 1, 1]]),

        'Ё': np.array([[0, 1, 1, 1, 0],
                       [0, 0, 0, 0, 0],
                       [1, 1, 1, 1, 1],
                       [0, 0, 0, 0, 0],
                       [1, 1, 1, 1, 1]]),

        'Ж': np.array([[1, 0, 0, 1, 0],
                       [0, 1, 0, 1, 0],
                       [0, 0, 1, 0, 0],
                       [0, 1, 0, 1, 0],
                       [1, 0, 0, 1, 0]]),

        'З': np.array([[0, 1, 1, 1, 0],
                       [1, 0, 0, 0, 1],
                       [0, 0, 1, 0, 0],
                       [1, 0, 0, 0, 1],
                       [0, 1, 1, 1, 0]]),

        'И': np.array([[1, 0, 0, 0, 1],
                       [1, 1, 0, 1, 1],
                       [1, 0, 1, 0, 1],
                       [1, 0, 0, 0, 1],
                       [1, 0, 0, 0, 1]]),

        'Й': np.array([[1, 0, 0, 0, 1],
                       [1, 1, 0, 1, 1],
                       [1, 0, 1, 0, 1],
                       [1, 0, 0, 0, 1],
                       [1, 0, 0, 0, 1]]),

        'К': np.array([[1, 0, 0, 0, 1],
                       [1, 0, 0, 1, 0],
                       [1, 1, 1, 0, 0],
                       [1, 0, 0, 1, 0],
                       [1, 0, 0, 0, 1]]),

        'Л': np.array([[0, 1, 1, 1, 0],
                       [1, 0, 0, 0, 1],
                       [1, 0, 0, 0, 1],
                       [1, 0, 0, 0, 1],
                       [1, 1, 1, 1, 1]]),

        'М': np.array([[1, 0, 0, 0, 1],
                       [1, 1, 0, 1, 1],
                       [1, 0, 1, 0, 1],
                       [1, 0, 0, 0, 1],
                       [1, 0, 0, 0, 1]]),

        'Н': np.array([[1, 0, 0, 0, 1],
                       [1, 0, 0, 0, 1],
                       [1, 1, 1, 1, 1],
                       [1, 0, 0, 0, 1],
                       [1, 0, 0, 0, 1]]),

        'О': np.array([[0, 1, 1, 1, 0],
                       [1, 0, 0, 0, 1],
                       [1, 0, 0, 0, 1],
                       [1, 0, 0, 0, 1],
                       [0, 1, 1, 1, 0]]),

        'П': np.array([[1, 1, 1, 1, 1],
                       [1, 0, 0, 0, 1],
                       [1, 0, 0, 0, 1],
                       [1, 0, 0, 0, 1],
                       [1, 0, 0, 0, 1]]),

        'Р': np.array([[1, 1, 1, 1, 0],
                       [1, 0, 0, 0, 1],
                       [1, 1, 1, 1, 0],
                       [1, 0, 0, 0, 0],
                       [1, 0, 0, 0, 0]]),

        'С': np.array([[0, 1, 1, 1, 0],
                       [1, 0, 0, 0, 1],
                       [1, 0, 0, 0, 0],
                       [1, 0, 0, 0, 1],
                       [0, 1, 1, 1, 0]]),

        'Т': np.array([[1, 1, 1, 1, 1],
                       [0, 0, 1, 0, 0],
                       [0, 0, 1, 0, 0],
                       [0, 0, 1, 0, 0],
                       [0, 0, 1, 0, 0]]),

        'У': np.array([[1, 0, 0, 0, 1],
                       [0, 1, 0, 1, 0],
                       [0, 0, 1, 0, 0],
                       [0, 0, 1, 0, 0],
                       [0, 0, 1, 0, 0]]),

        'Ф': np.array([[0, 1, 1, 1, 0],
                       [1, 0, 0, 0, 1],
                       [1, 1, 1, 1, 1],
                       [1, 0, 0, 0, 1],
                       [0, 1, 1, 1, 0]]),

        'Х': np.array([[1, 0, 0, 0, 1],
                       [0, 1, 0, 1, 0],
                       [0, 0, 1, 0, 0],
                       [0, 1, 0, 1, 0],
                       [1, 0, 0, 0, 1]]),

        'Ц': np.array([[1, 0, 0, 0, 1],
                       [1, 0, 0, 0, 1],
                       [1, 0, 0, 0, 1],
                       [1, 0, 0, 0, 1],
                       [1, 1, 1, 1, 1]]),

    }

    training_data = [matrix.flatten() for matrix in data.values()]
    labels = [int(label.isdigit()) for label in data]

    return np.array(training_data), np.array(labels)


def distort_char(char):
    noise = np.random.normal(0, 0.1, char.shape)
    distorted_array = np.clip(char + noise, 0, 1)
    return distorted_array


def test_data():
    train, labels = training_data()
    distort_arr = []
    for i in range(len(train)):
        distort_ch = distort_char(train[i])
        distort_arr.append(distort_ch)

    return np.array(distort_arr)
